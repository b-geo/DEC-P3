extends layout

block head
  title F1 Live Tracking | Melbourne Grand Prix
  meta(name="viewport", content="width=device-width, initial-scale=1.0")
  link(rel="stylesheet", href="/stylesheets/dashboard.css")
  link(href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@400;600;700&display=swap", rel="stylesheet")

block content
  // Header with F1 logo
  header.header
    .header-logo
      .f1-logo F1
      h1 RACE DASHBOARD
    span#connectionPill.connection-pill.connected CONNECTED

  main.main-content
    .container
      // Main content area with track and sidebar side by side
      .main-content-wrapper
        // Left Column: Track Canvas
        .track-column
          .canvas-container#canvasContainer
            .canvas-header
              .canvas-title
                svg(xmlns="http://www.w3.org/2000/svg", width="18", height="18", viewBox="0 0 24 24", fill="none", stroke="currentColor", stroke-width="2", stroke-linecap="round", stroke-linejoin="round")
                  path(d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z")
                  circle(cx="12", cy="10", r="3")
                | Melbourne Grand Prix Circuit
            .canvas-wrapper
              canvas#trackCanvas
              #loading.loading
                svg(xmlns="http://www.w3.org/2000/svg", width="24", height="24", viewBox="0 0 24 24", fill="none", stroke="currentColor", stroke-width="2", stroke-linecap="round", stroke-linejoin="round")
                  line(x1="12", y1="2", x2="12", y2="6")
                  line(x1="12", y1="18", x2="12", y2="22")
                  line(x1="4.93", y1="4.93", x2="7.76", y2="7.76")
                  line(x1="16.24", y1="16.24", x2="19.07", y2="19.07")
                  line(x1="2", y1="12", x2="6", y2="12")
                  line(x1="18", y1="12", x2="22", y2="12")
                  line(x1="4.93", y1="19.07", x2="7.76", y2="16.24")
                  line(x1="16.24", y1="7.76", x2="19.07", y2="4.93")
                | Loading track data...
        
        // Right Column: Leaderboard and Driver Legend
        .sidebar-column
          // Leaderboard
          .sidebar-top
            .card.leaderboard
              .card-header
                h3.card-title RACE LEADERBOARD
              .card-body
                table.leaderboard-table
                  thead
                    tr
                      th POS
                      th DRIVER
                      th LAP
                      th SPEED
                      th LAST UPDATE
                  tbody#leaderboardBody
                    // Leaderboard data will be dynamically added here
          
          // Driver Legend
          .sidebar-bottom
            .card.driver-legend-card
              .card-header
                h3.card-title DRIVER LEGEND
              .card-body
                #legend.legend
                  // Driver legends will be dynamically added here

      // Track Information spanning full width
      .track-info-wrapper
        .card.track-info-card
          .card-header
            h3.card-title TRACK INFORMATION
          .card-body
            .track-info
              .track-stat
                .track-stat-label CIRCUIT LENGTH
                .track-stat-value 5.303 km
              .track-stat
                .track-stat-label TOTAL LAPS
                .track-stat-value 58
              .track-stat
                .track-stat-label RACE DISTANCE
                .track-stat-value 307.574 km

block scripts
  script(src="/socket.io/socket.io.js")
  script(src="/javascripts/track-renderer.js")